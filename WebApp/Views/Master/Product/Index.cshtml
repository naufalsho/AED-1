@section Scripts {
	@* <script src="~/assets/js/pages/app.pages.master.comparison.type.js" asp-append-version="true"></script> *@

	<script>
		var dTable = '#dTable';



		const response = [
			{
				id: 1,
				code: 'TR001',
				brand: 'Massey Ferguson',
				distributor: 'PT. Traktor Nusantara',
				type: 'MF 206-4WD',
				country: 'Indonesia',
				createdBy: 'Admin',
				createdDate: '2023-01-01',
				isActive: true
			},
			{
				id: 1,
				code: 'TR001',
				brand: 'Massey Ferguson',
				distributor: 'PT. Traktor Nusantara',
				type: 'MF 1640 E',
				country: 'India',
				createdBy: 'Admin',
				createdDate: '2023-01-01',
				isActive: true
			},
			{
				id: 1,
				code: 'TR001',
				brand: 'John Deere',
				distributor: 'PT. Wahana Inti Selaras',
				type: '3036E',
				country: 'India',
				createdBy: 'Admin',
				createdDate: '2023-01-01',
				isActive: true
			},
			{
				id: 1,
				code: 'TR001',
				brand: 'Yanmar',
				distributor: 'PT. Agrisarana',
				type: 'EF 393T',
				country: 'India',
				createdBy: 'Admin',
				createdDate: '2023-01-01',
				isActive: true
			},
		];

		// Format date to string
		function FormatDateToString(date) {
			const options = { year: 'numeric', month: '2-digit', day: '2-digit' };
			return new Date(date).toLocaleDateString(undefined, options);
		}

		// Check permissions (dummy functions for example)
		function isAllowEdit() { return true; }
		function isAllowDelete() { return true; }
		function isAllowCreate() { return true; }

		// Initialize DataTable
		$(document).ready(function () {
			$(dTable).DataTable({
				destroy: true,
				data: response,
				columns: [
					{
						data: 'id',
						className: 'text-center',
						render: function (data, type, row, meta) {
							return meta.row + meta.settings._iDisplayStart + 1;
						}
					},
					{ data: 'code' },
					{ data: 'distributor' },
					{ data: 'brand' },
					{ data: 'type' },
					{ data: 'country' },
					{ data: 'createdBy' },
					{
						data: 'createdDate',
						className: 'text-center',
						render: function (data) {
							return FormatDateToString(data);
						}
					},
					{
						data: 'isActive',
						className: 'text-center',
						render: function (data) {
							var check = data ? 'checked="checked"' : '';
							return '<input class="form-check-input" type="checkbox" ' + check + ' disabled />';
						}
					},
					{
						data: 'id',
						className: 'text-center',
						render: function (data, type, row) {
							let editBtn = '';
							let delBtn = '';

							if (isAllowEdit()) {
								editBtn = '<a href="' + thisUrl + '/' + mdType + '/' + data + '" class="btn btn-outline-warning btn-sm me-2 btn-modal">Edit</a>';
							}

							if (isAllowDelete()) {
								delBtn = '<a href="' + thisUrl + '/' + mdType + '/' + data + '" type="button" class="btn btn-outline-danger btn-sm btn-delete" data-type="' + mdText + '" data-detail="name <b>' + row.name + '</b>">Delete</a>';
							}

							return '<div>' + editBtn + delBtn + '</div>';
						}
					}
				],
				responsive: true,
				autoWidth: false,
				dom: '<"row"<"col text-start"<"mdBtn">><"col justify-content-end"f>>' +
					'<"row"<"col-sm-12"tr>>' +
					'<"row"<"col-sm-12 col-md-5"i><"col-sm-12 col-md-7"p>>'
			});

			if (isAllowCreate()) {
				$('.mdBtn').append('<a href="' + thisUrl + '/' + mdType + '/create" class="btn btn-outline-primary btn-modal">Add ' + mdText + '</a>');
			}
		});

		// Dummy variables for demonstration
		const thisUrl = '#';
		const mdType = 'item';
		const mdText = 'Item';
		const mdBtn = '.mdBtn';
	</script>
}

@{
	ViewData["AppContentNone"] = "true";
}



<div class="card  border-0">
	<div class="card-header">
		<ul class="nav nav-pills card-header-pills">
			<li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#card-pill-1">Tractor</a></li>
			<li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#card-pill-1">Tractor</a></li>
			<li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#card-pill-1">Excavator</a></li>
			<li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#card-pill-1">MF</a></li>
			@* <li class="nav-item"><a class="nav-link disabled" data-bs-toggle="tab"
			href="javascript:;">Disabled</a></li> *@
		</ul>
	</div>
	<div class="card-body">
		<div class="tab-content p-0 m-0">
			<div class="tab-pane fade active show" id="card-pill-1">
				<div class="tab-pane fade active show table-responsive">
					<table id="dTable" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th class="text-center">No</th>
								<th class="text-center">Code</th>
								<th class="text-center">Distributor</th>
								<th class="text-center">Brand</th>
								<th class="text-center">Type</th>
								<th class="text-center">Country</th>
								<th class="text-center">Created By</th>
								<th class="text-center">Created On</th>
								<th class="text-center">Is Active</th>
								<th class="text-center">Action</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>
