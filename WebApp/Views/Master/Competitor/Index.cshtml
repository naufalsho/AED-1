@section Scripts {
<script>
	var dTable = '#dTable';
	const response = [
		{
			id: 1,
			code: '001',
			name: 'PT. Traktor Nusantara',
			address: 'Jakarta Timur, Indonesia',
			country: 'Indonesia',
			createdBy: 'Admin',
			createdDate: '2023-01-01',
			isActive: true
		},
		{
			id: 2,
			code: '002',
			name: 'PT. Wahana Inti Selaras	',
			address: 'Jakarta Selatan, Indonesia',
			country: 'Indonesia',
			createdBy: 'Admin',
			createdDate: '2023-01-01',
			isActive: true
		},
		{
			id: 2,
			code: '002',
			name: 'PT. Agrisarana',
			address: 'Jakarta bARAT, Indonesia',
			country: 'Indonesia',
			createdBy: 'Admin',
			createdDate: '2023-01-01',
			isActive: true
		},
	];

	// Format date to string
	function FormatDateToString(date) {
		const options = { year: 'numeric', month: '2-digit', day: '2-digit' };
		return new Date(date).toLocaleDateString(undefined, options);
	}

	// Check permissions (dummy functions for example)
	function isAllowEdit() { return true; }
	function isAllowDelete() { return true; }
	function isAllowCreate() { return true; }

	// Initialize DataTable
	$(document).ready(function () {
		$(dTable).DataTable({
			destroy: true,
			data: response,
			columns: [
				{
					data: 'id',
					className: 'text-center',
					render: function (data, type, row, meta) {
						return meta.row + meta.settings._iDisplayStart + 1;
					}
				},
				{ data: 'code' },
				{ data: 'name' },
				{ data: 'address' },
				{ data: 'country' },
				{ data: 'createdBy' },
				{
					data: 'createdDate',
					className: 'text-center',
					render: function (data) {
						return FormatDateToString(data);
					}
				},
				{
					data: 'isActive',
					className: 'text-center',
					render: function (data) {
						var check = data ? 'checked="checked"' : '';
						return '<input class="form-check-input" type="checkbox" ' + check + ' disabled />';
					}
				},
				{
					data: 'id',
					className: 'text-center',
					render: function (data, type, row) {
						let editBtn = '';
						let delBtn = '';

						if (isAllowEdit()) {
							editBtn = '<a href="' + thisUrl + '/' + mdType + '/' + data + '" class="btn btn-outline-warning btn-sm me-2 btn-modal">Edit</a>';
						}

						if (isAllowDelete()) {
							delBtn = '<a href="' + thisUrl + '/' + mdType + '/' + data + '" type="button" class="btn btn-outline-danger btn-sm btn-delete" data-type="' + mdText + '" data-detail="name <b>' + row.name + '</b>">Delete</a>';
						}

						return '<div>' + editBtn + delBtn + '</div>';
					}
				}
			],
			responsive: true,
			autoWidth: false,
			dom: '<"row"<"col text-start"<"mdBtn">><"col justify-content-end"f>>' +
				'<"row"<"col-sm-12"tr>>' +
				'<"row"<"col-sm-12 col-md-5"i><"col-sm-12 col-md-7"p>>'
		});

		if (isAllowCreate()) {
			$('.mdBtn').append('<a href="' + thisUrl + '/' + mdType + '/create" class="btn btn-outline-primary btn-modal">Add ' + mdText + '</a>');
		}
	});

	// Dummy variables for demonstration
	const thisUrl = '#';
	const mdType = 'item';
	const mdText = 'Item';
	const mdBtn = '.mdBtn';
</script>

}

<div class="table-responsive">
	<table id="dTable" class="table table-striped table-responsive table-bordered nowrap align-middle" width="100%">
		<thead>
			<tr>
				<th class="text-center w-1px">No</th>
				<th class="text-center w-1px">Code</th>
				<th class="text-center">Name</th>
				<th class="text-center">Address</th>
				<th class="text-center">Country</th>
				<th class="">Created</th>
				<th class="">Last Update</th>
				<th class="text-center">Is Active</th>
				<th class="text-center w-10px">Action</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</div>